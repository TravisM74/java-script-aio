<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const data = async function getData (){
            const response = await fetch('http://www.example.com/data');
            return response;
        }


        async function getData (){
            const response = await fetch('http://www.example.com/data');
            const response2 = await processData(response);
            return response2;
        }

        // : Nested setTimeout calls
        function doProcessing() {
            var timeout;
            timeout = setTimeout(function () {
                console.log('doing first thing');
                    timeout = setTimeout(function () {
                        console.log('step 2');
                        timeout = setTimeout(function () {
                            console.log('step 3');
                            setTimeout(function () {
                        console.log('last thing!');
                        }, 300);
                    }, 1000);
                }, 2500);
            }, 3000);
        }
        doProcessing();
        
        //  “promisify”
        async function doProcessingAsync() {
            await promisifiedSetTimeout(3000);
            console.log('doing first thing');
            await promisifiedSetTimeout(2500);
            console.log('step 2');
            await promisifiedSetTimeout(1000);
            console.log('step 3');
            await promisifiedSetTimeout(300);
            console.log('last thing');
        }
        doProcessingAsync();
        // error promisifiedSetTimeout not defined thrown . this code failed to run.
        // can not find references to promisifiedSetTimeout.
    </script>
</body>
</html>